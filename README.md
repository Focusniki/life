# Примерно намечу стек технологий которые будут нужны при работе

### Языки и компиляторы
* С++ от 17 стандарта и gcc/clang 
### Системы сборки и управления зависимостями
* CMake (По базе)
* CPack (часть CMake) - нужно более детально разобраться
* Git (По базе для управления)

### Сетевое взаимодействие
* Есть в составе QT

### Сериалиазиция и протокол обмена
* Тупо иметь общий заголовочник на обе тулы и передавать нужные структуры в бинарном виде

### Работа с пользователями и группами
* Самое простое вызывать из кода утилиту под линуксом
### Работа с файловой системой и ACL - (Полностью нужно будет чекать блок)
* C++17 std::filesystem опять же вызовы в консоль
### Управление демонами и службами
* Linux вызовы в консоль systemd

### Сбор информации о «железе» и ресурсах
* Linux - procfs, sysfs

### Графический интерфейс (GUI)
* Qt5 - (По базе)

### Логирование
* spdlog - как в ентернете написана более легкая и быстрая или встроенное логирование в QT

### Тестирование
* Google Test (gtest) / catch2
=======
* Google Test (gtest) / Catch2

### Упаковка и развёртывание
* Linux-паки (.deb) CPack с генератором DEB: настройка CPACK_DEBIAN_PACKAGE_DEPENDS, скрипты preinst, postinst, unit-файл systemd.
* Windows-инсталляторы (NSIS или WiX) Сценарии для установки/удаления: копирование исполняемых файлов, необходимых DLL (Boost, Qt)

### Дополнительные утилиты и инструменты
* WiX Toolset (Windows-MSI) или NSIS
* Make / cmake / Ninja

-----------------------------------------------------------------------------------------

# Описание соединения в проекте

В проекте реализована простая схема обнаружения и связи между основным приложением и демон-процессом:

### 1. Broadcast Discovery: 

При старте приложение life (src) посылает широковещательный UDP-пакет на заранее заданный порт. Пакет содержит информацию о своём IP-адресе и номере порта для возвратной связи.

### 2. Приём в демоне: 

Демон life-daemon постоянно слушает тот же порт для входящих широковещательных сообщений. Получив пакет, он извлекает из него адрес отправителя и открывает клиентский UDP-сокет для обратной связи.

### 3. Установление канала связи: 

После установления базового соединения демон отправляет по полученному адресу подтверждающее сообщение, и приложение life переключается на прямой обмен данными с демоном.

### 4. Обмен данными: 

Дальнейшее взаимодействие происходит по выделенному каналу UDP или TCP (в зависимости от конфигурации), где утилита передаёт команды или запрашивает статус демона.

### 5. Завершение работы: 

Оба процесса корректно закрывают сокеты по получению сигнала SIGTERM (демон) или по завершению основной логики (приложение).

### Настройки портов и адресов

* Порт по умолчанию для вещания: 9000

* Порт для возвратной связи: 9001

* Адрес вещания: `255.255.255.255` (можно изменить в `NetworkDiscovery.cpp` и `daemon.cpp`)

Изменить параметры можно в исходных файлах:

В `src/NetworkDiscovery.cpp` — настройки UDP-сокета и портов вещания.

В `daemon/daemon.cpp` — порт приёма и логика обработки пакетов.

### Структура проекта
```
life/                                 # Корневая директория проекта
├── CMakeLists.txt                    # Общий CMake-файл для всего проекта
├── src/                              # Исходный код клиентской части (GUI + логика)
│   ├── ClientManager.cpp             # Менеджер логики клиента
│   ├── ClientManager.h               # Заголовок менеджера клиента
│   ├── NetworkDiscovery.cpp          # Поиск серверов в локальной сети (UDP-вещание)
│   ├── NetworkDiscovery.h            # Заголовок модуля обнаружения сети
│   ├── main.cpp                      # Точка входа GUI-приложения
│   ├── mainwindow.cpp                # Реализация графического интерфейса
│   └── mainwindow.h                  # Заголовок окна интерфейса
├── daemon/                           # Демон-сервер, работающий в фоне
│   ├── include/                      # Заголовочные файлы демона
│   │   ├── ClientConnection.h        # Обработка подключений клиентов
│   │   └── Server.h                  # Объявление серверной логики
│   ├── src/                          # Реализация серверной логики
│   │   ├── ClientConnection.cpp      # Обработка соединений от клиента
│   │   └── Server.cpp                # Реализация логики приёма и ответов
│   ├── CMakeLists.txt                # CMake-файл сборки демона
│   └── main.cpp                      # Точка входа демона
├── CMakeLists.txt                    # Главный CMake-файл (дублируется для совместимости)
└── README.md                         # Эта документация
```
